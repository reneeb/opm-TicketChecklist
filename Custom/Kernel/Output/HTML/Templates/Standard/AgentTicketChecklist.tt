# --
# AgentTicketChecklist.tt - provides HTML for AgentTicketChecklist.pm
# Copyright (C) 2001-2013 OTRS AG, http://otrs.com/
# --
# This software comes with ABSOLUTELY NO WARRANTY. For details, see
# the enclosed file COPYING for license information (AGPL). If you
# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.
# --

<form action="[% Env("CGIHandle") %]" id="MainForm" method="post" name="compose" >
<div class="LayoutPopup ARIARoleMain">

    <div class="Header">
        <h1>[% Translate("Manage Checklist for ticket") | html %]: [% Data.TicketNumber | html %] - [% Data.Title | html %]</h1>
        <p>
            <a class="CancelClosePopup" href="#">[% Translate("Cancel & close window") | html %]</a>
        </p>
    </div>

    <div class="Content">
                <div class="WidgetSimple Expanded">

                    <div class="Header">
                        <div class="WidgetAction Toggle">
                            <a href="#" title="[% Translate("Toggle this widget") | html %]" aria-controls="Core_UI_AutogeneratedID_0" aria-expanded="true"><i class="fa fa-caret-right"></i><i class="fa fa-caret-down"></i></a>
                        </div>
                        <h2>[% Translate("Checklist Settings") | html %]</h2>
                    </div>
                    <div class="Content">
                        <fieldset class="TableLike FixedLabel">
                            <input type="hidden" name="Action" value="[% Env("Action") %]"/>
                            <input type="hidden" name="Subaction" value="Save"/>
                            <input type="hidden" name="TicketID" value="[% Data.TicketID | html %]" id="TicketID"/>
<script type="text/javascript">
//<![CDATA[
    var Positions = '[% Data.Position | html %]';
//]]>
</script>
                            <div class="Field ValueInsert">
                                <ol id="ChecklistItems">
[% RenderBlockStart("Item") %]
                                    <li id="Item_[% Data.Position | html %]"> <input class="W50pc" type="text" id="ItemTitle_[% Data.Position | html %]" name="ItemTitle_[% Data.Position | html %]" value="[% Data.Title | html %]" />
                                        [% Translate('Article #') | html %]:
                                        <input type="text" style="width: 25px" name="ItemArticleNumber_[% Data.Position | html %]" id="ItemArticleNumber_[% Data.Position | html %]" value="[% Data.ArticleNumber | html %]" />
                                        [% Data.StatusSelect %]
                                        <input type="hidden" name="ItemID_[% Data.Position | html %]" id="ItemID_[% Data.Position | html %]" value="[% Data.ID | html %]" />
                                        <button name="DelBtn" id="DelBtn_[% Data.Position | html %]"  class="DelBtn CallForAction"  title="[% Translate("Remove item") | html %]" value="[% Translate("-") | html %]"><span>[% Translate("-") | html %]</span></button>
                                    </li>
[% RenderBlockEnd("Item") %]
                                 </ol>
                             </div>

                             <div class="Field">
                                 <button class="CallForAction Primary" id="AddBtn" accesskey="g" title="[% Translate("Add item") | html %] (g)" type="submit" value="[% Translate("+") | html %]"><span>[% Translate("+") | html %]</span></button>
                             </div>

                        </fieldset>

                    </div>
                </div>
                    <div class="Footer">
                            <button class="CallForAction Primary" id="Submit" accesskey="g" title="[% Translate("Submit") | html %] (g)" type="submit" value="Submit"><span><i class="fa fa-check-square-o"></i>[% Translate("Submit") | html %]</span></button>
                    </div>
            </div>
        <div id="ChecklistTickets"></div>
</div>
</form>
[% WRAPPER JSOnDocumentComplete %]
<script type="text/javascript">//<![CDATA[
Core.Config.Set('PS.Checklist.ArticleNumber_text',' [% Translate("Article #") | html %]: ' );
//]]></script>
[% END %]
